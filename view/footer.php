<!--== Start Footer Area Wrapper ==-->
<footer class="footer-area">
    <!--== Start Footer Main ==-->
    <div class="footer-main">
        <div class="container pt--0 pb--0">
            <div class="row">
                <div class="col-md-6 col-lg-3">
                    <!--== Start widget Item ==-->
                    <div class="widget-item">
                        <div class="about-widget-wrap">
                            <div class="widget-logo-area">
                                <a href="index.html">
                                    <img class="logo-main" src="assets/img/logo-light.webp" width="131" height="34" alt="Logo" />
                                </a>
                            </div>
                            <p class="desc">Lorem ipsum dolor sit amet consl adipisi elit, sed do eiusmod templ
                                incididunt ut labore</p>
                            <div class="social-icons">
                                <a href="https://www.facebook.com/" target="_blank" rel="noopener"><i class="fa fa-facebook"></i></a>
                                <a href="https://www.instagram.com/" target="_blank" rel="noopener"><i class="fa fa-instagram"></i></a>
                                <a href="https://www.pinterest.com/" target="_blank" rel="noopener"><i class="fa fa-pinterest-p"></i></a>
                                <a href="https://twitter.com/" target="_blank" rel="noopener"><i class="fa fa-twitter"></i></a>
                            </div>
                        </div>
                    </div>
                    <!--== End widget Item ==-->
                </div>
                <div class="col-md-6 col-lg-3">
                    <!--== Start widget Item ==-->
                    <div class="widget-item widget-account-item">
                        <h4 class="widget-title">My Account</h4>
                        <h4 class="widget-collapsed-title collapsed" data-bs-toggle="collapse" data-bs-target="#widgetId-2">My Account</h4>
                        <div id="widgetId-2" class="collapse widget-collapse-body">
                            <div class="collapse-body">
                                <div class="widget-menu-wrap">
                                    <ul class="nav-menu">
                                        <li><a href="account-login.html">My Account</a></li>
                                        <li><a href="contact.html">Contact</a></li>
                                        <li><a href="shop-cart.html">Shopping cart</a></li>
                                        <li><a href="shop.html">Shop</a></li>
                                        <li><a href="account-login.html">Services Login</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--== End widget Item ==-->
                </div>
                <div class="col-md-6 col-lg-3">
                    <!--== Start widget Item ==-->
                    <div class="widget-item">
                        <h4 class="widget-title">Địa chỉ và liên hệ</h4>
                        <h4 class="widget-collapsed-title collapsed" data-bs-toggle="collapse" data-bs-target="#widgetId-3">Địa chỉ và liên hệ</h4>
                        <div id="widgetId-3" class="collapse widget-collapse-body">
                            <div class="collapse-body">
                                <div class="widget-contact-wrap">
                                    <ul>
                                        <li><span>Địa chỉ:</span> 999 Cầu Diễn - Nam Từ Liêm - Hà Nội</li>
                                        <li><span>Contact:</span> <a href="tel://0123456789">0123456789</a></li>
                                        <li><span>Email:</span> <a href="mailto://demo@example.com">demo@example.com</a>
                                        </li>
                                        <li><a target="_blank" href="https://www.hasthemes.com/">www.example.com</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--== End widget Item ==-->
                </div>
            </div>
        </div>
    </div>
    <!--== End Footer Main ==-->

    <!--== Start Footer Bottom ==-->
    <div class="footer-bottom">
        <div class="container pt--0 pb--0">
            <div class="row">
                <div class="col-md-7 col-lg-6">
                    <p class="copyright">© 2024 Shome. Made with <i class="fa fa-heart"></i> by <a target="_blank" href="https://caodang.fpt.edu.vn/">Cao đẳng FPT Polytechnic</a></p>
                </div>
                <div class="col-md-5 col-lg-6">
                    <div class="payment">
                        <a href="account-login.html"><img src="assets/img/photos/payment-card.webp" width="192" height="21" alt="Payment Logo"></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--== End Footer Bottom ==-->
</footer>
<!--== End Footer Area Wrapper ==-->

<!--== Scroll Top Button ==-->
<div id="scroll-to-top" class="scroll-to-top"><span class="fa fa-angle-up"></span></div>

<!--== Start Quick View Menu ==-->
<aside class="product-quick-view-modal">
    <div class="product-quick-view-inner">
        <div class="product-quick-view-content">
            <button type="button" class="btn-close">
                <span class="close-icon"><i class="fa fa-close"></i></span>
            </button>
            <div class="row align-items-center">
                <div class="col-lg-6 col-md-6 col-12">
                    <div class="thumb">
                        <img src="assets/img/shop/product-single/1.webp" width="570" height="541" alt="Alan-Shop">
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-12">
                    <div class="content">
                        <h4 class="title">Space X Bag For Office</h4>
                        <div class="prices">
                            <del class="price-old">$85.00</del>
                            <span class="price">$70.00</span>
                        </div>
                        <p>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of
                            classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a
                            Latin professor at Hampden-Sydney College in Virginia,</p>
                        <div class="quick-view-select">
                            <div class="quick-view-select-item">
                                <label for="forSize" class="form-label">Size:</label>
                                <select class="form-select" id="forSize" required>
                                    <option selected value="">s</option>
                                    <option>m</option>
                                    <option>l</option>
                                    <option>xl</option>
                                </select>
                            </div>
                            <div class="quick-view-select-item">
                                <label for="forColor" class="form-label">Color:</label>
                                <select class="form-select" id="forColor" required>
                                    <option selected value="">red</option>
                                    <option>green</option>
                                    <option>blue</option>
                                    <option>yellow</option>
                                    <option>white</option>
                                </select>
                            </div>
                        </div>
                        <div class="action-top">
                            <div class="pro-qty">
                                <input type="text" id="quantity20" title="Quantity" value="1" />
                            </div>
                            <button class="btn btn-black">Add to cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="canvas-overlay"></div>
</aside>
<!--== End Quick View Menu ==-->

<!--== Start Aside Cart Menu ==-->
<div class="aside-cart-wrapper offcanvas offcanvas-end" tabindex="-1" id="AsideOffcanvasCart" aria-labelledby="offcanvasRightLabel">
    <div class="offcanvas-header">
        <h1 id="offcanvasRightLabel"></h1>
        <button class="btn-aside-cart-close" data-bs-dismiss="offcanvas" aria-label="Close">Shopping Cart <i class="fa fa-chevron-right"></i></button>
    </div>
    <?php if (isset($_SESSION['user']) && !empty($_SESSION['user'])) : ?>
        <div class="offcanvas-body">
            <ul class="aside-cart-product-list">
                <?php
                $count = 0;
                $product = get_sp_cart($_SESSION['user']['id_nguoi_dung']);
                $sum = 0;
                foreach ($product as $a) : ?>
                    <li class="product-list-item">
                        <a href="index.php?act=delete_cart&id_ct=<?= $a['id_ct'] ?>&id_cart=<?= $a['id_cart'] ?>" class="remove">×</a>
                        <a href="index.php?act=ctsp&id_sp=<?= $a['id'] ?>">
                            <img src="../upload/<?= isset($a['bt_hinh_anh']) ? $a['bt_hinh_anh'] : $a['hinh_anh'] ?>" width="90" height="110" alt="Image-HasTech">
                            <span class="product-title"><?= $a['ten_san_pham'] ?></span>
                        </a>


                        <span class="product-price"><?= $a['so_luong_cart'] ?> × <?= number_format(floatval($a['gia_bt']) - (floatval($a['gia_bt']) * intval($a['sale']) / 100), 0, '.', '.') ?></span>
                    </li>

                    <?php

                    $count += 1;

                    $sl = intval($a['so_luong_cart']);

                    $gia = floatval($a['gia_bt']) - (floatval($a['gia_bt']) * intval($a['sale']) / 100);
                    $sum += ($sl * $gia);
                    ?>
                <?php
                endforeach;

                ?>


            </ul>
            <p class="cart-total"><span>Tổng tiền:</span><span class="amount"><?= number_format($sum, 0, '.', '.') ?> VND</span></p>
            <a class="btn-theme" data-margin-bottom="10" href="index.php?act=giohang">View cart</a>
            <?php
            if (!empty($product)) {
                echo "  <a class='btn-theme' href='index.php?act=checkout'>Checkout</a>";
            }
            ?>

        </div>
    <?php else : ?>
        <h4 class="p-5" style="text-align: center;">Vui lòng đăng nhập hoặc đăng kí</h4>
    <?php endif; ?>

</div>
<!--== End Aside Cart Menu ==-->

<!--== Start Aside Search Menu ==-->
<aside class="aside-search-box-wrapper offcanvas offcanvas-top" tabindex="-1" id="AsideOffcanvasSearch" aria-labelledby="offcanvasTopLabel">
    <div class="offcanvas-header">
        <h5 class="d-none" id="offcanvasTopLabel">Aside Search</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"><i class="pe-7s-close"></i></button>
    </div>
    <div class="offcanvas-body">
        <div class="container pt--0 pb--0">
            <div class="search-box-form-wrap">
                <div class="search-note">
                    <p>Start typing and press Enter to search</p>
                </div>
                <form action="#" method="post">
                    <div class="search-form position-relative">
                        <label for="search-input" class="visually-hidden">Search</label>
                        <input id="search-input" type="search" class="form-control" placeholder="Search entire store…">
                        <button class="search-button"><i class="fa fa-search"></i></button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</aside>
<!--== End Aside Search Menu ==-->

<!--== Start Side Menu ==-->
<div class="off-canvas-wrapper offcanvas offcanvas-start" tabindex="-1" id="AsideOffcanvasMenu" aria-labelledby="offcanvasExampleLabel">
    <div class="offcanvas-header">
        <h1 id="offcanvasExampleLabel"></h1>
        <button class="btn-menu-close" data-bs-dismiss="offcanvas" aria-label="Close">menu <i class="fa fa-chevron-left"></i></button>
    </div>
    <div class="offcanvas-body">
        <div class="info-items">
            <ul>
                <li class="number"><a href="tel://0123456789"><i class="fa fa-phone"></i>+00 123 456 789</a></li>
                <li class="email"><a href="mailto://demo@example.com"><i class="fa fa-envelope"></i>demo@example.com</a>
                </li>
                <li class="account"><a href="account-login.html"><i class="fa fa-user"></i>Account</a></li>
            </ul>
        </div>
        <!-- Mobile Menu Start -->
        <div class="mobile-menu-items">
            <ul class="nav-menu">
                <li><a href="index.html">Home</a>

                </li>
                <li><a href="about-us.html">About</a></li>
                <li><a href="#">Pages</a>
                    <ul class="sub-menu">
                        <li><a href="account.html">Account</a></li>
                        <li><a href="account-login.html">Login</a></li>
                        <li><a href="account-register.html">Register</a></li>
                        <li><a href="page-not-found.html">Page Not Found</a></li>
                    </ul>
                </li>
                <li><a href="#">Shop</a>
                    <ul class="sub-menu">
                        <li><a href="#">Shop Layout</a>
                            <ul class="sub-menu">
                                <li><a href="shop-three-columns.html">Shop 3 Column</a></li>
                                <li><a href="shop-four-columns.html">Shop 4 Column</a></li>
                                <li><a href="shop.html">Shop Left Sidebar</a></li>
                                <li><a href="shop-right-sidebar.html">Shop Right Sidebar</a></li>
                            </ul>
                        </li>
                        <li><a href="#">Single Product</a>
                            <ul class="sub-menu">
                                <li><a href="single-normal-product.html">Single Product Normal</a></li>
                                <li><a href="single-product.html">Single Product Variable</a></li>
                                <li><a href="single-group-product.html">Single Product Group</a></li>
                                <li><a href="single-affiliate-product.html">Single Product Affiliate</a></li>
                            </ul>
                        </li>
                        <li><a href="#">Others Pages</a>
                            <ul class="sub-menu">
                                <li><a href="shop-cart.html">Shopping Cart</a></li>
                                <li><a href="shop-checkout.html">Checkout</a></li>
                                <li><a href="shop-wishlist.html">Wishlist</a></li>
                                <li><a href="shop-compare.html">Compare</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><a href="#">Blog</a>
                    <ul class="sub-menu">
                        <li><a href="#">Blog Layout</a>
                            <ul class="sub-menu">
                                <li><a href="blog.html">Blog Grid</a></li>
                                <li><a href="blog-left-sidebar.html">Blog Left Sidebar</a></li>
                                <li><a href="blog-right-sidebar.html">Blog Right Sidebar</a></li>
                            </ul>
                        </li>
                        <li><a href="#">Single Blog</a>
                            <ul class="sub-menu">
                                <li><a href="blog-details-no-sidebar.html">Blog Details</a></li>
                                <li><a href="blog-details-left-sidebar.html">Blog Details Left Sidebar</a></li>
                                <li><a href="blog-details.html">Blog Details Right Sidebar</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>
        <!-- Mobile Menu End -->
    </div>
</div>
<!--== End Side Menu ==-->
</div>

<!--=======================Javascript============================-->

<!--=== jQuery Modernizr Min Js ===-->
<script src="assets/js/modernizr.js"></script>
<!--=== jQuery Min Js ===-->
<script src="assets/js/jquery-main.js"></script>
<!--=== jQuery Migration Min Js ===-->
<script src="assets/js/jquery-migrate.js"></script>
<!--=== jQuery Popper Min Js ===-->
<script src="assets/js/popper.min.js"></script>
<!--=== jQuery Bootstrap Min Js ===-->
<script src="assets/js/bootstrap.min.js"></script>
<!--=== jQuery Ui Min Js ===-->
<script src="assets/js/jquery-ui.min.js"></script>
<!--=== jQuery Swiper Min Js ===-->
<script src="assets/js/swiper.min.js"></script>
<!--=== jQuery Fancybox Min Js ===-->
<script src="assets/js/fancybox.min.js"></script>
<!--=== jQuery Waypoint Js ===-->
<script src="assets/js/waypoint.js"></script>
<!--=== jQuery Parallax Min Js ===-->
<script src="assets/js/parallax.min.js"></script>
<!--=== jQuery Aos Min Js ===-->
<script src="assets/js/aos.min.js"></script>


<!--=== jQuery Custom Js ===-->
<script src="assets/js/custom.js"></script>
<script src="assets/validate_form_.js"></script>
<script src="assets/toast.js"></script>

</body>
<script>
    <?php
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "delete_cart") {

        echo "toast({
        title: 'success',
        message: 'Đã xóa khỏi giỏ hàng',
        type: 'success',
        duration: 3000
    });";
        unset($_SESSION['toast']);
    }

    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "add_cart") {

        echo "toast({
            title: 'success',
            message: 'Đã thêm vào giỏ hàng',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "add_cmt") {

        echo "toast({
            title: 'success',
            message: 'Đã thêm bình luận',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "error") {

        echo "toast({
            title: 'error',
            message: 'Đã xảy ra lỗi, vui lòng liên hệ admin',
            type: 'error',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "no_one") {

        echo "toast({
            title: 'error',
            message: 'Vui lòng đăng nhập',
            type: 'error',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "kcx") {

        echo "toast({
            title: 'error',
            message: 'Mã xác minh không chính xác',
            type: 'error',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "doi_tc") {

        echo "toast({
            title: 'success',
            message: 'Đã đổi mật khẩu, mật khẩu mới là mã xác minh',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "no_pro") {

        echo "toast({
            title: 'error',
            message: 'Không có sản phẩm nào',
            type: 'error',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "update") {

        echo "toast({
            title: 'success',
            message: 'Cập nhật thông tin thành công',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "k_trung_mk") {

        echo "toast({
            title: 'error',
            message: 'Không trùng mật khẩu',
            type: 'error',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "sai_mk_cu") {

        echo "toast({
            title: 'error',
            message: 'Mật khẩu cũ không chính xác',
            type: 'error',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "huy_don") {

        echo "toast({
            title: 'success',
            message: 'Đã hủy đơn hàng',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "huy_don") {

        echo "toast({
            title: 'success',
            message: 'Đã hủy đơn hàng',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "baocao") {

        echo "toast({
            title: 'success',
            message: 'Bình luận này sẽ được xem xét',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "sua_cmt") {

        echo "toast({
            title: 'success',
            message: 'Bình luận đã được chỉnh sửa',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "dang_ki") {

        echo "toast({
            title: 'success',
            message: 'Đã đăng kí thành công',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }

    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "loi_dang_ki") {

        echo "toast({
            title: 'error',
            message: 'Tên đăng nhập hoặc gmail đã được đăng kí',
            type: 'error',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "dang_nhap") {

        echo "toast({
            title: 'success',
            message: 'Đăng nhập thành công',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "khoa") {

        echo "toast({
            title: 'error',
            message: 'Tài khoản đã bị khóa',
            type: 'error',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "ko_ton_tai") {

        echo "toast({
            title: 'error',
            message: 'Tài khoản không tồn tại, vui lòng đăng kí',
            type: 'error',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "dang_xuat") {

        echo "toast({
            title: 'success',
            message: 'Đã đăng xuất',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "da_gui") {

        echo "toast({
            title: 'success',
            message: 'Đã gửi mã xác nhận về gmail',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "email_err") {

        echo "toast({
            title: 'error',
            message: 'Không tìm thấy tài khoản nào',
            type: 'error',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "doi_tc") {

        echo "toast({
            title: 'success',
            message: 'Đổi mật khẩu thành công, hãy đăng nhập',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "update_cart") {

        echo "toast({
            title: 'success',
            message: 'Cập nhật thành công',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }

    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "da_nhan") {

        echo "toast({
            title: 'Cảm ơn',
            message: 'Cảm ơn bạn đã mua hàng, bạn có thể đánh giá sản phẩm',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "deletebinhluan") {

        echo "toast({
            title: 'Đã xóa bình luận',
            message: 'Đã xóa bình luận',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    if (isset($_SESSION['toast']) && $_SESSION['toast'] == "fb") {

        echo "toast({
            title: 'Chúng tôi sẽ sớm phản hồi lại',
            message: 'Đã gửi',
            type: 'success',
            duration: 3000
        });";
        unset($_SESSION['toast']);
    }
    ?>
























    var color_select = document.querySelector('.form-color');
    var size_select = document.querySelector('.form-size');
    var form_ = document.querySelector('#form_ko_loi');
    if (color_select && size_select && form_) {
        form_.onsubmit = function(event) {
            if (color_select.value == "" || size_select.value == "") {
                event.preventDefault()
                alert("Vui lòng chọn màu sắc và size");

            } else {
                form_.submit();
            }
        }
    }


    <?php
    if (isset($thongbao) && !empty($thongbao)) {
        echo "setTimeout(function(){
        alert('$thongbao');
       },800)";
    }
    ?>





    var sup = document.querySelector('.shop-count');
    sup.innerText = '<?= isset($count) ? $count : '' ?>';
    Validator("#form_fb");
    Validator("#checkout");
    Validator('.form_mk',function(){
        return document.querySelector('#new-pwd').value;
    });
    Validator('.form_update');
    Validator('.form-cmt')
    Validator(".form_register");



    var sizeSelect = document.getElementById('sizeSelect');
    var colorSelect = document.getElementById('colorSelect');
    if (sizeSelect && colorSelect) {

        var json = <?php if (isset($bienthe)) {
                        echo json_encode($bienthe);
                    } else {
                        echo "[]";
                    } ?>;
        var data = [];

        for (var i = 0; i < json.length; i++) {
            var newObj = [];
            newObj.push(json[i].id_size);
            newObj.push(json[i].id_mau);
            newObj.push(json[i].gia);
            newObj.push(json[i].so_luong);
            data.push(newObj);
        }







        colorSelect.addEventListener('change', function() {

            var selectedColor = colorSelect.value;
            var so_luong = document.querySelector(".so_luong__");
            var gia = document.querySelector(".price");


            for (var i = 0; i < sizeSelect.options.length; i++) {
                var size = sizeSelect.options[i].value;
                var sizeAvailable = false;


                for (var j = 0; j < data.length; j++) {
                    if (parseInt(data[j][1]) === parseInt(selectedColor) && parseInt(data[j][0]) === parseInt(size)) {
                        gia.innerText = number_format(data[j][2]);
                        so_luong.innerText = data[j][3]
                        sizeAvailable = true;
                        break;
                    }
                }


                sizeSelect.options[i].disabled = !sizeAvailable;
                if (sizeSelect.options[i].disabled == false) {
                    sizeSelect.options[i].selected = true;
                }
            }
        });
        colorSelect.addEventListener('change', function() {

            var selectedColor = colorSelect.value;
            var so_luong = document.querySelector(".so_luong__");
            var gia = document.querySelector(".price");


            for (var i = 0; i < sizeSelect.options.length; i++) {
                var size = sizeSelect.options[i].value;
                var sizeAvailable = false;


                for (var j = 0; j < data.length; j++) {
                    if (parseInt(data[j][1]) === parseInt(selectedColor) && parseInt(data[j][0]) === parseInt(size)) {
                        gia.innerText = number_format(data[j][2]) + "VND";
                        so_luong.innerText = data[j][3]
                        sizeAvailable = true;
                        break;
                    }
                }


                sizeSelect.options[i].disabled = !sizeAvailable;
                if (sizeSelect.options[i].disabled == false) {
                    sizeSelect.options[i].selected = true;
                }
            }
        });


        sizeSelect.addEventListener('change', function() {

            var selectedSize = sizeSelect.value;
            var so_luong = document.querySelector(".so_luong__");
            var gia = document.querySelector(".price");


            for (var i = 0; i < colorSelect.options.length; i++) {
                var color = colorSelect.options[i].value;




                for (var j = 0; j < data.length; j++) {
                    if (parseInt(data[j][1]) === parseInt(color) && parseInt(data[j][0]) === parseInt(selectedSize)) {
                        gia.innerText = number_format(data[j][2]) + "VND";
                        so_luong.innerText = data[j][3]

                        break;
                    }
                }



            }
        });

        sizeSelect.dispatchEvent(new Event('change'));
        colorSelect.dispatchEvent(new Event('change'));
    }



    function number_format(number, decimals, dec_point, thousands_sep) {
        number = (number + '').replace(/[^0-9+\-Ee.]/g, '');
        var n = !isFinite(+number) ? 0 : +number,
            prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),
            sep = '.',
            dec = (typeof dec_point === 'undefined') ? '.' : dec_point,
            s = '',
            toFixedFix = function(n, prec) {
                var k = Math.pow(10, prec);
                return '' + Math.round(n * k) / k;
            };

        s = (prec ? toFixedFix(n, prec) : '' + Math.round(n)).split('.');
        var re = /(-?\d+)(\d{3})/;
        while (re.test(s[0])) {
            s[0] = s[0].replace(re, "$1" + sep + "$2");
        }

        if ((s[1] || '').length < prec) {
            s[1] = s[1] || '';
            s[1] += new Array(prec - s[1].length + 1).join('0');
        }
        return s.join(dec);
    }

    var range1 = document.getElementById("range1");
    var range2 = document.getElementById("range2");
    var value1 = document.getElementById("value1");
    var value2 = document.getElementById("value2");

    if (range1 && range2 && value1 && value2) {
        value1.innerHTML = number_format(range1.value, 0, '.', ',');
        value2.innerHTML = number_format(range2.value, 0, '.', ',');

        range1.oninput = function() {
            if (parseInt(this.value) >= parseInt(range2.value)) {
                this.value = range2.value - 1;
            }
            value1.innerHTML = number_format(this.value, 0, '.', ',')
        }

        range2.oninput = function() {
            if (parseInt(this.value) <= parseInt(range1.value)) {
                this.value = range1.value + 1;
            }
            value2.innerHTML = number_format(this.value, 0, '.', ',')
        }
    }




    // Lưu vị trí hiện tại của cuộn trang
    function saveScrollPosition() {
        sessionStorage.setItem('scrollPosition', window.pageYOffset);
    }

    // Thiết lập lại cuộn trang sau khi trang được tải lại
    function restoreScrollPosition() {
        var scrollPosition = sessionStorage.getItem('scrollPosition');
        if (scrollPosition !== null) {
            window.scrollTo(0, scrollPosition);
            sessionStorage.removeItem('scrollPosition');
        }
    }

    // Sự kiện khi trang được tải lại
    window.addEventListener('beforeunload', saveScrollPosition);

    // Sự kiện khi DOM đã được load hoàn toàn
    window.addEventListener('DOMContentLoaded', function() {
        restoreScrollPosition();
    });
</script>




</html>